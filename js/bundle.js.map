{"version":3,"file":"./js/bundle.js","mappings":"mBAEA,IAAIA,EACAC,EACAC,EAAOC,SAASC,cAAc,SAC9BC,EAAWF,SAASG,cAAc,MAEtC,SAASC,EAAOC,GACdP,EAAM,GACNQ,MAAM,gDAAgDD,IAAO,CAC3D,OAAU,gCAETE,MAAKT,GAAOA,EAAIU,SAChBD,MAAKE,IACJX,EAAMW,EAAEC,MAkBd,WACMX,EAAKE,cAAc,QACrBF,EAAKE,cAAc,MAAMU,UAAY,IAEvC,IAAIC,EAASd,EAAIe,MAAM,EAAG,GAC1BD,EAAOE,SAAQC,IACb,IAAIC,EAAKhB,SAASG,cAAc,MAChCa,EAAGC,aAAa,KAAMF,EAAEG,IACxBF,EAAGG,UAAUC,IAAI,WACjBJ,EAAGK,YAAcN,EAAEO,KACnBpB,EAASqB,YAAYP,GACrBA,EAAGQ,iBAAiB,SAAUT,KAWlC,SAAkBA,EAAGU,GACnB,IAAIC,EAAUD,EAAIE,WAAUX,GAAMA,EAAGE,MAAQH,EAAEa,OAAOV,KAClDI,EAAOG,EAAIC,GAASJ,KACpBO,EAAQJ,EAAIC,GAASG,MAAa,MAClCC,EAAQL,EAAIC,GAA2B,iBAEvCK,EAAa/B,SAASG,cAAc,OACxC4B,EAAWC,UAAY,OAEvB,IAAIC,EAAUjC,SAASG,cAAc,OACrC8B,EAAQtB,UAAY,SAASW,IAC7BS,EAAWR,YAAYU,GAEvB,IAAIC,EAAWlC,SAASG,cAAc,OACtC+B,EAASvB,UAAY,UAAUkB,IAC/BE,EAAWR,YAAYW,GAEvB,IAAIC,EAAWnC,SAASG,cAAc,OACtCgC,EAASxB,UAAY,UAAUmB,IAC/BC,EAAWR,YAAYY,GAEvB,IAAIC,EAAMpC,SAASG,cAAc,UACjCiC,EAAIJ,UAAY,YAEhB,IAAIK,EAAQrC,SAASG,cAAc,QACnCkC,EAAML,UAAY,MAClBI,EAAIb,YAAYc,GAEhBN,EAAWR,YAAYa,GAEvBrC,EAAKwB,YAAYQ,GAEjB/B,SAASC,cAAc,QAAQqC,MAAQ,GACvCvC,EAAKE,cAAc,MAAMU,UAAY,GAErCyB,EAAIZ,iBAAiB,QAASe,EAChC,CA9CMC,CAASzB,EAAGH,EAAO,GACpB,IAEHZ,SAASC,cAAc,QAAQwC,sBAAsB,WAAYvC,EACnE,CAjCawC,MAERC,OAAMC,GAAOC,QAAQC,IAAIF,IAC9B,CA+BA,SAASL,EAAUxB,GACjBhB,EAAKgD,YAAYhC,EAAEa,OAAOoB,QAAQ,UAClCH,QAAQC,IAAIG,KACd,CAjCAjD,SAASC,cAAc,QAAQuB,iBAAiB,SAAUT,IACnB,IAAjCA,EAAEa,OAAOU,MAAMY,OAAOC,QACxBC,aAAavD,GACbC,EAAM,GACND,EAAQwD,WAAWjD,EAAQ,IAAKW,EAAEa,OAAOU,MAAMY,SAE3CnD,EAAKE,cAAc,QACrBF,EAAKE,cAAc,MAAMU,UAAY,GAEzC,G","sources":["webpack://api-autocomplete/./index.js"],"sourcesContent":["import '/style/style.css';\n\nlet timer;\nlet res;\nlet main = document.querySelector('.main');\nlet fragment = document.createElement('ul');\n\nfunction fetchD(val) {\n  res = '';\n  fetch(`https://api.github.com/search/repositories?q=${val}`, {\n    'Accept': 'application/vnd.github+json'\n  })\n    .then(res => res.json())\n    .then(d => {\n      res = d.items;\n      return func();\n    })\n    .catch(err => console.log(err));\n}\ndocument.querySelector('.inp').addEventListener('input', (e) => {\n  if (e.target.value.trim().length !== 0) {\n    clearTimeout(timer);\n    res = ''\n    timer = setTimeout(fetchD, 600, e.target.value.trim());\n  } else {\n    if (main.querySelector('ul')) {\n      main.querySelector('ul').innerHTML = '';\n    }\n  }\n})\n\n\nfunction func() {\n  if (main.querySelector('ul')) {\n    main.querySelector('ul').innerHTML = '';\n  }\n  let newArr = res.slice(0, 5);\n  newArr.forEach(e => {\n    let el = document.createElement('li');\n    el.setAttribute('id', e.id);\n    el.classList.add('element');\n    el.textContent = e.name;\n    fragment.appendChild(el);\n    el.addEventListener('click', (e) => {\n      openRepo(e, newArr);\n    })\n  })\n  document.querySelector('.inp').insertAdjacentElement('afterend', fragment);\n}\nfunction closeRepo(e) {\n  main.removeChild(e.target.closest('.card'));\n  console.log(this)\n}\n\nfunction openRepo(e, arr) {\n  let element = arr.findIndex(el => el.id === +e.target.id);\n  let name = arr[element].name;\n  let owner = arr[element].owner['login'];\n  let stars = arr[element]['stargazers_count'];\n\n  let newElement = document.createElement('div');\n  newElement.className = 'card';\n\n  let newName = document.createElement('div');\n  newName.innerHTML = `Name: ${name}`;\n  newElement.appendChild(newName);\n\n  let newOwner = document.createElement('div');\n  newOwner.innerHTML = `Owner: ${owner}`;\n  newElement.appendChild(newOwner);\n\n  let newStars = document.createElement('div');\n  newStars.innerHTML = `Owner: ${stars}`;\n  newElement.appendChild(newStars);\n\n  let btn = document.createElement('button');\n  btn.className = 'btn-close';\n\n  let span1 = document.createElement('span');\n  span1.className = 'sp1';\n  btn.appendChild(span1);\n    \n  newElement.appendChild(btn);\n\n  main.appendChild(newElement);\n\n  document.querySelector('.inp').value = '';\n  main.querySelector('ul').innerHTML = '';\n\n  btn.addEventListener('click', closeRepo);\n}\n"],"names":["timer","res","main","document","querySelector","fragment","createElement","fetchD","val","fetch","then","json","d","items","innerHTML","newArr","slice","forEach","e","el","setAttribute","id","classList","add","textContent","name","appendChild","addEventListener","arr","element","findIndex","target","owner","stars","newElement","className","newName","newOwner","newStars","btn","span1","value","closeRepo","openRepo","insertAdjacentElement","func","catch","err","console","log","removeChild","closest","this","trim","length","clearTimeout","setTimeout"],"sourceRoot":""}